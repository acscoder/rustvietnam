<!DOCTYPE html><html lang="vi"><head><title>Game đoán số - RustVietnam</title><meta charset="UTF-8"/><link rel="profile" href="http://gmpg.org/xfn/11"/><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta http-equiv="Cache-control" content="public"/><meta http-equiv="Cache-control" content="max-age=604800"/><meta http-equiv="Cache-control" content="Content-Encoding=gzip"/><link rel='icon' type='image/x-icon' href='https://rustvietnam.com/wp-content/themes/onda/images/favicon.svg' /><link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet"/> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.7/js/min/perfect-scrollbar.jquery.min.js"></script> <link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet" /><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' /><meta name="description" content="Học Rust qua 1 dự án game nho nhỏ" /><link rel="canonical" href="https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/" /><meta property="og:locale" content="en_US" /><meta property="og:type" content="article" /><meta property="og:title" content="Game đoán số - RustVietnam" /><meta property="og:description" content="Học Rust qua 1 dự án game nho nhỏ" /><meta property="og:url" content="https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/" /><meta property="og:site_name" content="RustVietnam" /><meta property="article:published_time" content="2021-09-07T15:12:49+00:00" /><meta property="article:modified_time" content="2021-09-15T09:13:06+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:label1" content="Written by" /><meta name="twitter:data1" content="admin" /><meta name="twitter:label2" content="Est. reading time" /><meta name="twitter:data2" content="9 minutes" /> <script type="application/ld+json" class="yoast-schema-graph">{
	    "@context": "https://schema.org",
	    "@graph": [
	        {
	            "@type": "WebSite",
	            "@id": "https://rustvietnam.com/#website",
	            "url": "https://rustvietnam.com/",
	            "name": "RustVietnam",
	            "description": "Trang Web d\u00e0nh cho nh\u1eefng ng\u01b0\u1eddi b\u1ea1n y\u00eau th\u00edch l\u1eadp tr\u00ecnh ng\u00f4n ng\u1eef Rust. Ch\u00fang t\u00f4i kh\u00f4ng \u0111\u1ea1i di\u1ec7n hay c\u00f3 li\u00ean h\u1ec7 g\u00ec v\u1edbi team ch\u00ednh th\u1ee9c c\u1ee7a Rust ( rust-lang.org )",
	            "potentialAction": [
	                {
	                    "@type": "SearchAction",
	                    "target": {
	                        "@type": "EntryPoint",
	                        "urlTemplate": "https://rustvietnam.com/?s={search_term_string}"
	                    },
	                    "query-input": "required name=search_term_string"
	                }
	            ],
	            "inLanguage": "en-US"
	        },
	        {
	            "@type": "WebPage",
	            "@id": "https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/#webpage",
	            "url": "https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/",
	            "name": "Game \u0111o\u00e1n s\u1ed1 - RustVietnam",
	            "isPartOf": {
	                "@id": "https://rustvietnam.com/#website"
	            },
	            "datePublished": "2021-09-07T15:12:49+00:00",
	            "dateModified": "2021-09-15T09:13:06+00:00",
	            "author": {
	                "@id": "https://rustvietnam.com/#/schema/person/e0d03b8f89a39fe8d8a990c7d2d9c655"
	            },
	            "description": "H\u1ecdc Rust qua 1 d\u1ef1 \u00e1n game nho nh\u1ecf",
	            "breadcrumb": {
	                "@id": "https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/#breadcrumb"
	            },
	            "inLanguage": "en-US",
	            "potentialAction": [
	                {
	                    "@type": "ReadAction",
	                    "target": [
	                        "https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/"
	                    ]
	                }
	            ]
	        },
	        {
	            "@type": "BreadcrumbList",
	            "@id": "https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/#breadcrumb",
	            "itemListElement": [
	                {
	                    "@type": "ListItem",
	                    "position": 1,
	                    "name": "Home",
	                    "item": "https://rustvietnam.com/"
	                },
	                {
	                    "@type": "ListItem",
	                    "position": 2,
	                    "name": "Game \u0111o\u00e1n s\u1ed1"
	                }
	            ]
	        },
	        {
	            "@type": "Person",
	            "@id": "https://rustvietnam.com/#/schema/person/e0d03b8f89a39fe8d8a990c7d2d9c655",
	            "name": "admin",
	            "image": {
	                "@type": "ImageObject",
	                "@id": "https://rustvietnam.com/#personlogo",
	                "inLanguage": "en-US",
	                "url": "http://0.gravatar.com/avatar/f85eb7eaabe6640d9c988c04988fbaf0?s=96&d=mm&r=g",
	                "contentUrl": "http://0.gravatar.com/avatar/f85eb7eaabe6640d9c988c04988fbaf0?s=96&d=mm&r=g",
	                "caption": "admin"
	            },
	            "sameAs": [
	                "https://rustvietnam.com"
	            ],
	            "url": "https://rustvietnam.com/author/admin/"
	        }
	    ]
	}</script> <link rel='dns-prefetch' href='//s.w.org' /><link rel="alternate" type="application/rss+xml" title="RustVietnam &raquo; Game đoán số Comments Feed" href="https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/feed/" /><link rel="https://api.w.org/" href="https://rustvietnam.com/wp-json/" /><link rel="alternate" type="application/json" href="https://rustvietnam.com/wp-json/wp/v2/posts/123" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://rustvietnam.com/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://rustvietnam.com/wp-includes/wlwmanifest.xml" /><meta name="generator" content="WordPress 5.8.1" /><link rel='shortlink' href='https://rustvietnam.com/?p=123' /><link rel="alternate" type="application/json+oembed" href="https://rustvietnam.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%2Frustvietnam%2Flap-trinh-co-ban-rust%2Fgame-doan-so%2F" /><link rel="alternate" type="text/xml+oembed" href="https://rustvietnam.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%2Frustvietnam%2Flap-trinh-co-ban-rust%2Fgame-doan-so%2F&#038;format=xml" /><link theme media="all" href="https://rustvietnam.com/wp-content/themes/onda/media/media_style.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://rustvietnam.com/wp-content/themes/onda/media/media_style.js" type="text/javascript"></script> </head><body><nav id="navbar-main" class="navbar navbar-main navbar-expand-lg bg-white navbar-light position-sticky top-0 shadow py-2"><div class="container"> <a class="navbar-brand mr-lg-5" href="https://rustvietnam.com"> <img src="https://rustvietnam.com/wp-content/themes/onda/images/logo.svg" width="60"/> <span>RustVietnam</span> </a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button><div class="navbar-collapse collapse" id="navbar_global"><div class="navbar-collapse-header"><div class="row"><div class="col-6 collapse-brand"> <a href="https://rustvietnam.com"> <img src="https://rustvietnam.com/wp-content/themes/onda/images/logo.svg" width="60"/> </a></div><div class="col-6 collapse-close"> <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation"> <span></span> <span></span> </button></div></div></div><ul class="navbar-nav navbar-nav-hover align-items-lg-center"><li class="nav-item dropdown"> <a class="nav-link" data-toggle="dropdown" role="button"> <i class="ni ni-ui-04 d-lg-none"></i> <span class="nav-link-inner--text">Nền tảng</span> </a><div class="dropdown-menu dropdown-menu-xl"><div class="dropdown-menu-inner"> <a href="https://rustvietnam.com/lap-trinh-co-ban-rust/cai-dat-rust/" class="media d-flex align-items-center"><div class="icon icon-shape bg-gradient-primary rounded-circle text-white"> <i class="ni ni-spaceship"></i></div><div class="media-body ml-3"><h6 class="heading text-primary mb-md-1">Bắt đầu</h6><p class="description d-none d-md-inline-block mb-0">Cài đặt Rust</p></div> </a> <a href="https://rustvietnam.com/chuong-trinh/lap-trinh-co-ban-rust/" class="media d-flex align-items-center"><div class="icon icon-shape bg-gradient-success rounded-circle text-white"> <i class="ni ni-palette"></i></div><div class="media-body ml-3"><h6 class="heading text-primary mb-md-1">Lập trình cơ bản</h6><p class="description d-none d-md-inline-block mb-0">Các hướng dẫn cơ bản/cốt lõi nhất để có thể bắt đầu với Rust</p></div> </a> <a href="https://rustvietnam.com/chuong-trinh/thu-vien-chuan/" class="media d-flex align-items-center"><div class="icon icon-shape bg-gradient-warning rounded-circle text-white"> <i class="ni ni-ui-04"></i></div><div class="media-body ml-3"><h5 class="heading text-warning mb-md-1">Thư viện chuẩn</h5><p class="description d-none d-md-inline-block mb-0">Các thư viện có sẵn vô cùng mạnh mẽ, phù hợp với tất cả các yêu cầu</p></div></a></div></div></li><li class="nav-item dropdown"> <a class="nav-link" data-toggle="dropdown" role="button"> <i class="ni ni-collection d-lg-none"></i> <span class="nav-link-inner--text">Nâng cao</span> </a><div class="dropdown-menu"> <a href="https://rustvietnam.com/chuong-trinh/lap-trinh-ham/" class="dropdown-item">Lâp trình hàm</a> <a href="https://rust-unofficial.github.io/patterns/" target="_blank" class="dropdown-item">Lập trình hướng đối tượng</a> <a target="_blank" href="https://drive.google.com/file/d/1pz15PPdWCVk1JI-1xfhK6CjPWR7NWj_I/view?usp=sharing" class="dropdown-item">Lập trình hệ thống</a> <a href="https://drive.google.com/file/d/1g6ZLNWUqBU1tBICRmLlr-rXqaUBRcDgB/view?usp=sharing" target="_blank" class="dropdown-item">Cấu trúc dữ liệu/thuật toán</a></div></li></ul><ul class="navbar-nav navbar-nav-hover align-items-lg-center"><li class="nav-item dropdown"> <a class="nav-link" data-toggle="dropdown" role="button"> <i class="ni ni-collection d-lg-none"></i> <span class="nav-link-inner--text">Network</span> </a><div class="dropdown-menu"> <a href="https://rustvietnam.com/chuong-trinh/lap-trinh-web-voi-rust/" class="dropdown-item">Lập trình Web</a> <a href="https://rustvietnam.com/chuong-trinh/webassembly/" class="dropdown-item">WebAssembly</a></div></li><li> <a href="https://rustvietnam.com/chuong-trinh/lap-trinh-nhung" class="nav-link" > Lập trình nhúng </a></li><li> <a target="_blank" rel="nofollow" href="https://substrate.dev/en/tutorials" class="nav-link" > BlockChain </a></li></ul><ul class="navbar-nav align-items-lg-center ml-lg-auto"><li class="nav-item d-none d-lg-block"> <a href="https://rustvietnam.com/gioi-thieu/" class="btn btn-primary btn-icon"> <span class="nav-link-inner--text">Giới thiệu</span> </a></li></ul></div></div></nav><div class="section section-hero section-shaped"><div class="shape shape-style-1 shape-primary"> <span class="span-150"></span> <span class="span-50"></span> <span class="span-50"></span> <span class="span-75"></span> <span class="span-100"></span> <span class="span-75"></span> <span class="span-50"></span> <span class="span-100"></span> <span class="span-50"></span> <span class="span-100"></span></div><div class="page-header"><div class="container shape-container d-flex align-items-center py-lg"><div class="col px-0"><div class="row align-items-center justify-content-center"><div class="col-lg-8 text-center text-white"><h1 class="display-2 text-white">Game đoán số</h1><p class="lead"><p>Học Rust qua 1 dự án game nho nhỏ</p></p></div></div></div></div></div><div class="separator separator-bottom separator-skew zindex-100"> <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg"> <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon> </svg></div></div><section class="section"><div class="container"><div class="row justify-content-center flex-row-reverse"><div class="col-lg-4 single-sidebar"><h2><a class="text-danger" href="https://rustvietnam.com/chuong-trinh/lap-trinh-co-ban-rust/">Lâp trình cơ bản Rust</a></h2><ul class="catlist" style="padding-left: 17px;"><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/cai-dat-rust/">Bài 1 - Cài Đặt Rust</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/hello-world-voi-rust/">Bài 2 - Hello World với Rust</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/hello-cargo/">Bài 3 - Hello, Cargo!</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/game-doan-so/">Bài 4 - Game đoán số</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/khai-bao-bien/">Bài 5 - Khai báo biến</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/khai-bao-dang-du-lieu-co-ban-cua-bien/">Bài 6 - Khai báo dạng dữ liệu cơ bản của biến</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/khai-bao-ham-closure/">Bài 7 - Khai báo hàm & closure</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/comments-trong-code/">Bài 8 - Comments trong code</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/dieu-kien-va-vong-lap/">Bài 9 - Điều kiện và vòng lặp</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/modules/">Bài 10 - Modules</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/struct-enum-traits/">Bài 11 - Enum - Struct  - Traits</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/ownership-va-borrowing/">Bài 12 - Ownership và Borrowing</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/macros-attributes/">Bài 13 - Macros và Attributes</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/generics/">Bài 14 - Generics</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/cargo-crates-io/">Bài 15 - Tìm hiểu thêm về Cargo và Crates.io</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/lam-viec-voi-command-line/">Bài 16 - Làm việc với Command Line</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/threads/">Bài 17 - Đa luồng (Threads)</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/rust-lifetime/">Bài 18 - Rust lifetime</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/lam-viec-voi-files/">Bài 19 - Làm việc với files</a></li><li><a href="https://rustvietnam.com/lap-trinh-co-ban-rust/testing/">Bài 20 - Testing</a></li></ul></div><div class="col-lg-8 single-content"><p>Cũng nhau code 1 game nhé, setup dự án</p><blockquote><p>cargo new guessing_game<br /> cd guessing_game</p></blockquote><p>Mở file</p><blockquote><p>[package]<br /> name = &quot;guessing_game&quot;<br /> version = &quot;0.1.0&quot;<br /> authors = [&quot;Your Name <a href="mailto:you@example.com">you@example.com</a>&quot;]<br /> edition = &quot;2018&quot;<br /> #See more keys and their definitions at <a href="https://doc.rust-lang.org/cargo/reference/manifest.html">https://doc.rust-lang.org/cargo/reference/manifest.html</a><br /> [dependencies]</p></blockquote><p>Chúng ta thay thông tin authors của mình nhé , khúc sau chúng ta sẽ thêm crate bên dưới [dependencies]<br /> Mở file <strong>src/main.rs</strong> ra làm việc thôi nào</p><pre><code class="language-html">use std::io;
fn main() {
    println!(&quot;Guess the number!&quot;);
    println!(&quot;Please input your guess.&quot;);
    let mut guess = String::new();
    io::stdin().read_line(&amp;mut guess).expect(&quot;Failed to read line&quot;);
    println!(&quot;You guessed: {}&quot;, guess);
}</code></pre><p><strong>std::io</strong> là thư viện in/out chuẩn của Rust để đọc giá trị ta nhập vào ở console, trong hàm <strong>main</strong> 2 dòng code đầu tiên là <strong>println!</strong> in thông báo ra. Tiếp theo là khai báo biến <strong>let mut guess = String::new();</strong> keyword cho biến là <strong>let</strong> , <strong>mut</strong> để chỉ biến sẽ thay đổi giá trị được, không có <strong>mut</strong> thì biến sẽ giữ cố định 1 giá trị lúc đầu trong suốt chu kì hoạt động. <strong>String::new();</strong> là 1 <strong>String</strong> (chuỗi) với khởi tạo là rỗng ( chưa có gì).<br /> Dòng tiếp theo, thư viện <strong>stdin</strong> đọc giá trị mà chúng ra nhập vào ở console và gán vào biến <strong>guess</strong> bằng hàm <strong>read_line(&amp;mut guess)</strong> tiếp theo hàm <strong>expect</strong> hiển thị thông báo nếu có lỗi xảy ra.Rust rất cẩn thận, nếu chúng ta ko dùng <strong>expect</strong> như code trên mà chỉ để như vầy thôi</p><blockquote><p>io::stdin().read_line(&amp;mut guess);</p></blockquote><p>Thì code vẫn chạy nhưng sẽ có cảnh báo</p><blockquote><table><thead><tr><th>cargo build<br /> Compiling guessing_game v0.1.0 (file:///projects/guessing_game)<br /> warning: unused <code>Result</code> that must be used<br /> --&gt; src/main.rs:10:5</th><th>10</th><th>io::stdin().read_line(&amp;mut guess);</th><th>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</th></tr></thead><tbody></tbody></table><p>= note: <code>#[warn(unused_must_use)]</code> on by default<br /> = note: this <code>Result</code> may be an <code>Err</code> variant, which should be handled<br /> warning: 1 warning emitted<br /> Finished dev [unoptimized + debuginfo] target(s) in 0.59s</p></blockquote><p>Dòng code cuối là in giá trị biến <strong>guess</strong> ra màn hình với macro <strong>println!</strong><br /> Các bạn dùng lệnh <strong>cargo run</strong> để chạy chương trình xem nhé.</p><h3>Tạo ra 1 số bí mật</h3><p>Chúng ta sẽ tạo ra 1 số ngẫu nhiên ví dụ : 2 sau đó so sánh với với số mà chúng ta đã nhập vào, 1 kiểu xổ số xem ta có đoán đúng không.<br /> Để tạo 1 số ngẫu nhiên ta dùng crate <strong>rand</strong><br /> Trong file Cargo.toml ta thêm vào</p><blockquote><p>[dependencies]<br /> rand = &quot;0.8.3&quot;</p></blockquote><p>Chi tiết về crate này <a href="https://crates.io/crates/rand">https://crates.io/crates/rand</a><br /> Chúng ta chạy lệnh build</p><blockquote><p>$ cargo build<br /> Updating crates.io index<br /> Downloaded rand v0.8.3<br /> Downloaded libc v0.2.86<br /> Downloaded getrandom v0.2.2<br /> Downloaded cfg-if v1.0.0<br /> Downloaded ppv-lite86 v0.2.10<br /> Downloaded rand_chacha v0.3.0<br /> Downloaded rand_core v0.6.2<br /> Compiling rand_core v0.6.2<br /> Compiling libc v0.2.86<br /> Compiling getrandom v0.2.2<br /> Compiling cfg-if v1.0.0<br /> Compiling ppv-lite86 v0.2.10<br /> Compiling rand_chacha v0.3.0<br /> Compiling rand v0.8.3<br /> Compiling guessing_game v0.1.0 (file:///projects/guessing_game)<br /> Finished dev [unoptimized + debuginfo] target(s) in 2.53s</p></blockquote><p>Ok, chúng ta tiếp tục update code ở <strong>src/main.rs</strong></p><pre><code class="language-html">use std::io;
use rand::Rng;
fn main() {
    println!(&quot;Guess the number!&quot;);
    let secret_number = rand::thread_rng().gen_range(1..101);
    println!(&quot;he secret number is: {}&quot;, secret_number);
    println!(&quot;Please input your guess.&quot;);
    let mut guess = String::new();
    io::stdin()
        .read_line(&amp;mut guess)
        .expect(&quot;Failed to read line&quot;);
    println!(&quot;You guessed: {}&quot;, guess);
}</code></pre><p>Trên đầu chúng ta khai báo <strong>use rand::Rng;</strong> bên dưới chúng ta sử dụng hàm tạo số ngẫu nhiên <strong>rand::thread_rng().gen_range(1..101)</strong><br /> tạo 1 số ngẫu nhiên trong khoảng 1 đến 101, dĩ nhiên là chúng ta có thể thay đổi để game mình dễ chơi hơn , chớ khoảng này khó mà đoán đúng được.<br /> Tiếp theo chúng ta sẽ phải thêm code để so sánh giữa biến <strong>secret_number</strong> và biến <strong>guess</strong>, thường thì so sánh chúng ta sẽ nghĩ đến <strong>if ... else</strong> nhưng với Rust thì <strong>match</strong> mới là chân ái, <strong>match</strong> giống như <strong>switch ... case </strong> .</p><pre><code class="language-html">use std::io;
use std::cmp::Ordering;
use rand::Rng;
fn main() {
    println!(&quot;Guess the number!&quot;);
    let secret_number = rand::thread_rng().gen_range(1..101);
    println!(&quot;he secret number is: {}&quot;, secret_number);
    println!(&quot;Please input your guess.&quot;);
    let mut guess = String::new();
    io::stdin()
        .read_line(&amp;mut guess)
        .expect(&quot;Failed to read line&quot;);
    println!(&quot;You guessed: {}&quot;, guess);
    match guess.cmp(&amp;secret_number) {
        Ordering::Less =&gt; println!(&quot;Too small!&quot;),
        Ordering::Greater =&gt; println!(&quot;Too big!&quot;),
        Ordering::Equal =&gt; println!(&quot;You win!&quot;),
    }
} </code></pre><p>Bên trên chúng ta khai báo thêm <strong>use std::cmp::Ordering;</strong> , chúng ta gọi trong thư viện chuẩn <strong>std</strong> module so sánh <strong>cmp</strong> , truct <strong>Ordering</strong><br /> Thực hiện so sánh <strong>match guess.cmp(&amp;secret_number)</strong> kết quả hàm so sánh <strong>cmp</strong> trong biến <strong>guess</strong> trả về một truct <strong>Ordering</strong> có 3 trường hợp, <strong>Less</strong> nhỏ hơn, <strong>Greater</strong> lớn hơn , <strong>Equal</strong> bằng<br /> Thử chạy code</p><blockquote><table><thead><tr><th>$ cargo build<br /> Compiling libc v0.2.86<br /> Compiling getrandom v0.2.2<br /> Compiling cfg-if v1.0.0<br /> Compiling ppv-lite86 v0.2.10<br /> Compiling rand_core v0.6.2<br /> Compiling rand_chacha v0.3.0<br /> Compiling rand v0.8.3<br /> Compiling guessing_game v0.1.0 (file:///projects/guessing_game)<br /> error[E0308]: mismatched types<br /> --&gt; src/main.rs:22:21</th><th>22</th><th>match guess.cmp(&amp;secret_number) {</th><th>^^^^^^^^^^^^^^ expected struct <code>String</code>, found integer</th></tr></thead><tbody></tbody></table><p>= note: expected reference <code>&amp;String</code><br /> found reference <code>&amp;{integer}</code><br /> error: aborting due to previous error<br /> For more information about this error, try <code>rustc --explain E0308</code>.<br /> error: could not compile <code>guessing_game</code><br /> To learn more, run the command again with --verbose.</p></blockquote><p>Chúng ta nhận được một thông báo lỗi, <strong>guess</strong> là 1 String thì nó phải so sánh với String mà <strong>secret_number</strong> là 1 số nguyên<br /> Vậy chúng ta sẽ phải hoặc là đưa biến <strong>guess</strong> từ String --&gt; số hoặc <strong>secret_number</strong> --&gt; String<br /> Chúng ta thêm vào 1 dòng code để parse String thành số nguyên (u32)</p><blockquote><p>let guess: u32 = guess.trim().parse().expect(&quot;Please type a number!&quot;);</p></blockquote><p>Ok , chạy chương trình nhé</p><blockquote><p>cargo run</p></blockquote><p>Chương trình đã chạy nhưng chỉ đoán 1 lần , quá khó để đoán trúng, ta tạo 1 vòng lặp vô hạn <strong>loop {} </strong> để nhập số nhiều lần cho tới khi đúng thì dùng <strong>break;</strong> để thoát chương trình.</p><pre><code class="language-html">use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!(&quot;Guess the number!&quot;);
    let secret_number = rand::thread_rng().gen_range(1..101);
    // --snip--
    println!(&quot;The secret number is: {}&quot;, secret_number);
    loop {
        println!(&quot;Please input your guess.&quot;);
        // --snip--
        let mut guess = String::new();
        io::stdin()
            .read_line(&amp;mut guess)
            .expect(&quot;Failed to read line&quot;);
        let guess: u32 = guess.trim().parse().expect(&quot;Please type a number!&quot;);
        println!(&quot;You guessed: {}&quot;, guess);
        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; println!(&quot;Too small!&quot;),
            Ordering::Greater =&gt; println!(&quot;Too big!&quot;),
           Ordering::Equal =&gt; {
                println!(&quot;You win!&quot;);
                break;
            },
        }
    }
}</code></pre><p>Đoạn code được thêm vào <strong>loop{}</strong> là vòng lặp vô hạn và <strong>break;</strong> ngay bên dưới in ra <em>You win!</em><br /> Nâng cấp chương trình thêm 1 chút, hiện tại trong code ta dùng <strong>let guess: u32 = guess.trim().parse().expect(&quot;Please type a number!&quot;);</strong> thông báo lỗi hiên ra khi ta nhập vào không phải là 1 số, chúng ta muốn chương trình sẽ không cần báo lỗi mà không nhận giá trị đó chạy lặp lại cho chúng ta nhập giá trị khác cho tới lúc đúng mới xử lí.<br /> Ta thay đoạn code trên bằng code này :</p><blockquote><p>let guess: u32 = match guess.trim().parse() { Ok(num) =&gt; num,<br /> Err(_) =&gt; continue,<br /> };</p></blockquote><p>Đây là 1 dạng match nếu kết quả Ok thì gán số <strong>num</strong> đã nhận vào <strong>guess</strong> , nếu kết quả là lỗi thì chạy <strong>continue</strong> yêu cầu vòng lặp bỏ quả và chạy vòng lặp mới<br /> Ok Xong, code cuối cùng nhé</p><pre><code class="language-html">use rand::Rng;
use std::cmp::Ordering;
use std::io;
fn main() {
    println!(&quot;Guess the number!&quot;);
    let secret_number = rand::thread_rng().gen_range(1..101);
    loop {
        println!(&quot;Please input your guess.&quot;);
        let mut guess = String::new();
        io::stdin()
            .read_line(&amp;mut guess)
            .expect(&quot;Failed to read line&quot;);
        let guess: u32 = match guess.trim().parse() {
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };
        println!(&quot;You guessed: {}&quot;, guess);
        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; println!(&quot;Too small!&quot;),
            Ordering::Greater =&gt; println!(&quot;Too big!&quot;),
            Ordering::Equal =&gt; {
                println!(&quot;You win!&quot;);
                break;
            }
        }
    }
}</code></pre><hr/><div class="powr-comments" id="e67d472b_123"></div><script src="https://www.powr.io/powr.js?platform=html"></script> </div></div></div></section><footer class="footer has-cards"><div class="container"><hr><div class="row align-items-center justify-content-md-between"><div class="col-md-6"><div class="copyright"> © 2021 <a href="" target="_blank">Bản quyền thuộc về RustVietNam</a>.</div></div><div class="col-md-6 text-right"> <a class="text-teal" href="https://rustvietnam.com/privacy-policy">Điều khoản</a></div></div></div></footer><style>.single-content img{
        max-width: 100%;
        height: auto;
    }
    .single-content blockquote{
        padding-left: 20px;
        border-left: 5px solid;
        font-size: 87.5%;
        color: #f3a4b5;
        word-break: break-word;
        font-family: system-ui;
    }</style></body></html>